{% load static %}
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog Django-React</title>
    <!-- Favicon -->
    <link rel="icon" href="{% static 'favicon.ico' %}" />
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome pour les icônes -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">
    <!-- Variables globales pour React -->
    <script>
        window.DJANGO_API_URL = '/api/';
    </script>
    <!-- CSS personnalisés -->
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
            color: #333;
        }
        #root {
            min-height: 100vh;
        }
        .navbar {
            background-color: #212529;
        }
        .footer {
            background-color: #212529;
            color: #f8f9fa;
            padding: 2rem 0;
            margin-top: 3rem;
        }
    </style>
</head>
<body>
    <!-- Container pour React -->
    <div id="root">
        <div class="container mt-5 pt-5 text-center">
            <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;">
                <span class="visually-hidden">Chargement...</span>
            </div>
            <p class="mt-3">Chargement de l'application...</p>
        </div>
    </div>
    
    <!-- Scripts React depuis le serveur de développement -->
    <script>
        // Fonction pour charger React depuis le serveur de développement
        (function loadReactApp() {
            var reactRoot = document.getElementById('root');
            
            // Créer un script pour charger React depuis localhost:3000
            var reactScript = document.createElement('script');
            reactScript.src = 'http://localhost:3000/static/js/bundle.js';
            reactScript.onerror = function() {
                reactRoot.innerHTML = '<div class="container mt-5 pt-5 text-center"><div class="alert alert-warning">Impossible de charger l\'application React. Assurez-vous que le serveur de développement React est en cours d\'exécution sur localhost:3000.</div></div>';
            };
            document.body.appendChild(reactScript);
        })();
    </script>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
